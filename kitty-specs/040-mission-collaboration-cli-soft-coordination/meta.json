{
  "feature_number": "040",
  "slug": "040-mission-collaboration-cli-soft-coordination",
  "friendly_name": "Mission Collaboration CLI with Soft Coordination",
  "mission": "software-dev",
  "source_description": "spec-kitty CLI (2.x, feature 040)\n\nCreate a full PRD + spec + tasks for feature `040-mission-collaboration-cli-soft-coordination` in `spec-kitty` (target branch `2.x`).\n\nContext:\nCLI must support mission collaboration for 1 or more developers. Driver is an organic, changeable intent state, not an exclusive lock.\n\nSprint framing:\nThis is Sprint S1 / M1 Step 1. Build observe+decide behavior that emits canonical events and supports advisory warnings.\n\nCore requirements:\n1. No rigid driver lease in default mode.\n2. Multiple active drivers are allowed.\n3. CLI must warn on collision risk and capture explicit acknowledgement decisions.\n4. Gemini and Cursor are first-class agent targets in architecture and tasking (implement adapter-ready design now; hardening can continue later).\n\nGoals:\n1. Implement/extend commands:\n- spec-kitty mission join <mission_id> --role <role>\n- spec-kitty mission focus set <wp_id|step_id>\n- spec-kitty mission drive set --state active|inactive\n- spec-kitty mission status\n- spec-kitty mission comment --text \"...\"\n- spec-kitty mission decide --text \"...\"\n2. Emit canonical collaboration events from spec-kitty-events feature 006.\n3. Add pre-execution advisory checks:\n- other active drivers on same WP/step\n- stale context indicators\n- dependency collision risk\n4. Prompt user with continue/hold/reassign/defer acknowledgement options.\n5. Preserve offline queue + replay behavior for collaboration events.\n6. Add adapter interface and baseline plumbing for first-class Gemini/Cursor support in observe+decide path.\n\nNon-goals:\n1. Hard lock as default behavior.\n2. Full policy-mode matrix.\n\nRequired acceptance:\n1. 3 participants can join same mission and concurrently set drive intent.\n2. Collision warnings appear reliably and can be acknowledged.\n3. Organic driver handoff works without explicit lock release.\n4. Offline/reconnect replay preserves event order and warning context.\n5. Shared E2E test passes against SaaS dev for observe+decide scenario.",
  "created_at": "2026-02-15T00:00:00Z",
  "target_branch": "2.x",
  "vcs": "git"
}
