# Work Packages: Branded Capabilities PDF Generator

**Inputs**: Design documents from `/kitty-specs/031-branded-capabilities-pdf-generator/`
**Prerequisites**: plan.md (required), spec.md (user stories), research.md
**Tests**: Not explicitly requested. Manual visual inspection validates the output.
**Organization**: Fine-grained subtasks (`Txxx`) roll up into work packages (`WPxx`). Each work package must be independently deliverable and testable.
**Prompt Files**: Each work package references a matching prompt file in `/tasks/` generated by `/spec-kitty.tasks`.

## Subtask Format: `[Txxx] [P?] Description`
- **[P]** indicates the subtask can proceed in parallel (different files/components).
- Include precise file paths or modules.

---

## Work Package WP01: Script Foundation & Page 1 Layout (Priority: P1) ðŸŽ¯ MVP

**Goal**: Create the complete `generate_pdf.py` script skeleton with brand constants, CLI interface, error handling, version extraction, and the full Page 1 (cover page) layout with logo, tagline, and stat boxes.
**Independent Test**: Run `python generate_pdf.py` and verify it produces a PDF with a complete, branded Page 1. Page 2 may be blank or minimal at this stage.
**Prompt**: `/tasks/WP01-script-foundation-and-page1.md`
**Estimated prompt size**: ~350 lines

### Included Subtasks
- [x] T001 Create `generate_pdf.py` with imports, brand color constants, and argparse CLI
- [x] T002 Implement version extraction from `pyproject.toml`
- [x] T003 Implement input validation (logo file, docs/ directory existence) with hard failures
- [x] T004 Build Page 1 layout: logo placement, title, tagline, 3 stat accent boxes, problem/solution paragraph
- [x] T005 Wire up the main entry point to generate a 1-page PDF and verify it opens correctly

### Implementation Notes
- Start with the full script structure: imports, constants, functions, `if __name__ == "__main__"` block.
- Brand color constants defined once at module level using `reportlab.lib.colors.HexColor`.
- Use `reportlab.platypus` for high-level layout (SimpleDocTemplate, Paragraph, Spacer, Image, Table).
- Page 1 uses a green header bar, centered logo, tagline in italic, and 3 side-by-side stat boxes using a Table.
- argparse with single `--output` flag, default `spec-kitty-capabilities.pdf`.

### Parallel Opportunities
- None â€” this is the foundation WP.

### Dependencies
- None (starting package).

### Risks & Mitigations
- Logo image may be too large for the layout â†’ resize to a fixed width (e.g., 150px) in the script.
- reportlab not installed â†’ clear ImportError message with `pip install reportlab` hint.

---

## Work Package WP02: Page 2 Capabilities Grid & Final Assembly (Priority: P1)

**Goal**: Add the Page 2 capabilities overview with 6 branded capability blocks in a 2-column layout, add footers to both pages, and verify the final output is exactly 2 pages.
**Independent Test**: Run `python generate_pdf.py` and verify it produces a valid 2-page PDF with both pages fully branded and content-complete.
**Prompt**: `/tasks/WP02-page2-capabilities-and-assembly.md`
**Estimated prompt size**: ~350 lines

### Included Subtasks
- [x] T006 Define curated capability content constants (6 blocks: titles + 2-3 line descriptions)
- [x] T007 Build Page 2 layout: section heading + 6 capability blocks in 2-column grid with colored left-border accents
- [x] T008 Add page footers (version number, URL) to both pages
- [x] T009 Assemble both pages into the final 2-page document and enforce the 2-page constraint
- [x] T010 End-to-end validation: run the script, open the PDF, verify branding, content, and page count

### Implementation Notes
- Each capability block is a small table cell with a colored left border, bold title, and body text.
- The 6 blocks map to: Multi-Agent Orchestration (Baby Blue), Spec-Driven Workflow (Grassy Green), Live Kanban Dashboard (Sunny Yellow), Parallel Development (Lavender), Mission System (Soft Peach), Quality Gates & Merge (Baby Blue).
- Use reportlab Table with 2 columns and 3 rows for the grid.
- Footer uses a smaller font (8pt) centered at the bottom of each page via an `onPage` callback or `afterPage` method.
- The 2-page constraint is verified by checking `doc.page` after build or by opening the generated PDF.

### Parallel Opportunities
- T006 (content constants) can be written independently from T007 (layout code), but they are tightly coupled so sequential is simpler.

### Dependencies
- Depends on WP01 (script foundation, brand constants, CLI, Page 1 must exist).

### Risks & Mitigations
- Content may not fit exactly 2 pages â†’ adjust font sizes, spacing, or trim descriptions to fit.
- 2-column grid alignment may be tricky â†’ use fixed-width Table columns with explicit colWidths.

---

## Dependency & Execution Summary

- **Sequence**: WP01 â†’ WP02 (linear chain â€” WP02 builds on WP01's script)
- **Parallelization**: Not applicable â€” only 2 WPs, WP02 depends on WP01
- **MVP Scope**: WP01 delivers a runnable script with a branded Page 1. WP02 completes the full 2-page brochure.

---

## Subtask Index (Reference)

| Subtask ID | Summary | Work Package | Priority | Parallel? |
|------------|---------|--------------|----------|-----------|
| T001       | Create script skeleton with imports, brand constants, argparse | WP01 | P1 | No |
| T002       | Implement version extraction from pyproject.toml | WP01 | P1 | No |
| T003       | Input validation (logo, docs/) with hard failures | WP01 | P1 | No |
| T004       | Page 1 layout: logo, title, tagline, stat boxes, paragraph | WP01 | P1 | No |
| T005       | Wire main entry point, generate 1-page PDF, verify | WP01 | P1 | No |
| T006       | Define curated capability content constants (6 blocks) | WP02 | P1 | No |
| T007       | Page 2 layout: 2-column capability grid with colored accents | WP02 | P1 | No |
| T008       | Add page footers (version, URL) to both pages | WP02 | P1 | No |
| T009       | Assemble both pages, enforce 2-page constraint | WP02 | P1 | No |
| T010       | End-to-end validation: run, open, verify branding and content | WP02 | P1 | No |
